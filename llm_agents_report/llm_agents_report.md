大语言模型（LLM）与人工智能（AI）代理(Agent)简报文档

1. 概述：LLM 与 AI 代理的演进与应用
   本简报旨在深入探讨大语言模型（LLM）和人工智能（AI）代理的核心概念、关键技术、最佳实践以及在实际应用中的广泛潜力。从基础的提示工程技巧到复杂的代理架构，我们将梳理这些技术如何赋能企业和个人，提升效率，并推动创新。

核心主题包括：

提示工程（Prompt Engineering）：指导 LLM 生成所需输出的艺术和科学。
AI 代理（AI Agents）：超越单一 LLM 的智能应用程序，具备感知环境、自主行动和利用工具的能力。
实际应用与案例：LLM 和 AI 代理如何在各行各业落地，解决实际问题。
参数与控制：调节 LLM 输出行为的关键参数。 2. 提示工程：引导 LLM 的艺术
提示工程是优化 LLM 输出效果的关键。它不仅仅是编写指令，更是一种结构化和精炼输入以最大化模型性能的方法。

2.1 基础提示类型
零样本（Zero-shot）提示：不提供任何示例，直接给出任务指令。例如，将电影评论分类为“POSITIVE”、“NEUTRAL”或“NEGATIVE”的例子中，直接给出评论并要求分类。
单样本（One-shot）与少样本（Few-shot）提示：通过提供一个或少量示例来演示所需的输入/输出格式或任务模式。例如，将披萨订单解析为 JSON 格式，通过提供一个示例来指导模型。
系统提示（System Prompting）：“定义模型的根本能力和首要目的。”例如，指示模型“只返回大写标签”或以 JSON 格式返回输出，有助于确保输出符合特定要求，甚至可以用于“安全和毒性”控制，例如添加“你应该在回答中保持尊重。”的指令。
角色提示（Role Prompting）：“将一个特定的角色或身份分配给语言模型。”例如，让模型扮演“旅行指南”来提供旅行建议，或者扮演“地理老师”以获得不同类型的回答。这种方法可以帮助模型生成与指定角色一致的、更相关和信息丰富的输出。
上下文提示（Contextual Prompting）：“提供与当前对话或任务相关的具体细节或背景信息。”它帮助模型理解细微差别并调整响应。
值得注意的是，“系统、上下文和角色提示之间可能存在相当大的重叠。”

2.2 进阶提示策略
步进提示（Step-back Prompting）：鼓励模型在回答前退一步思考更高层次的概念或原则，然后重新应用这些概念来解决问题。
思维链（Chain of Thought, CoT）：通过“让我们一步一步思考”等指令，引导模型逐步推理，从而解决复杂问题，尤其是在数学或逻辑任务中表现出色。
自洽性（Self-consistency）：通过多次生成答案并选择最一致的结果来提高推理任务的准确性。
思维树（Tree of Thoughts, ToT）：一种更复杂的推理方法，涉及探索多个推理路径。
ReAct（Reason & Act）：“结合了推理和行动，使语言模型能够以动态的方式执行任务。”这种方法允许模型在必要时进行推理和执行动作（如工具调用），从而更好地解决问题。
自动化提示工程（Automatic Prompt Engineering）：利用 LLM 本身生成和评估多个提示变体，以找到最佳性能的提示。例如，一个服装店可以生成多种订购 T 恤的表达方式，然后使用 BLEU 或 ROUGE 等指标进行评估。
2.3 控制 LLM 输出行为的参数
温度（Temperature）：“控制令牌选择的随机程度。”
较低的温度（例如 0）产生“确定性”响应，每次都选择最高概率的令牌。
较高的温度（例如 10 以上）导致更多“多样或意外”的结果，此时温度变得无关紧要。
Top-P 采样（Top-P Sampling）：“选择累积概率不超过特定值（P）的顶部令牌。”P 值范围从 0（贪婪解码）到 1（LLM 词汇表中的所有令牌）。
Top-K 采样（Top-K Sampling）：选择概率最高的 K 个令牌作为下一个预测令牌的候选。
这些参数的设置相互影响。例如，“如果将温度设置为 0，Top-K 和 Top-P 就变得无关紧要——最可能的令牌成为下一个预测令牌。”反之，“如果将 Top-K 设置为 1，温度和 Top-P 就变得无关紧要。”

一般起始点建议：

相对连贯且有创意：温度 0.2，Top-P 0.95，Top-K 30。
特别有创意：温度 0.9，Top-P 0.99，Top-K 40。
较少创意：温度 0.1，Top-P 0.9，Top-K 20。
单一正确答案的任务（如数学问题）：温度 0。
警告：过度的自由度（高温度、Top-K、Top-P 和输出令牌数量）可能导致 LLM 生成不相关的文本，甚至出现“重复循环错误”，即模型重复生成相同的词语或短语。

2.4 提示工程的最佳实践
试验：找到合适的提示需要反复试验。
使用动词：明确指出 LLM 应该执行的动作，例如“Act”、“Analyze”、“Categorize”、“Classify”、“Create”、“Describe”等。
明确输出：明确指定所需的输出格式和内容。
控制最大令牌长度：通过配置或在提示中明确要求来限制响应长度，例如“用推文长度的消息解释量子物理学。”
使用变量：使提示更具动态性，例如“你是旅行指南。告诉我关于城市{city}的一个事实。”，其中{city}可以作为变量。
试验输入格式和写作风格：不同的模型、配置、提示格式和措辞会产生不同的结果。 3. AI 代理：从 LLM 到自主行动
AI 代理代表着从传统独立语言模型到动态问题解决和交互的飞跃。

3.1 代理的核心定义与能力
根据《Agents》论文的定义，代理是“一种应用程序，旨在通过感知其环境并利用其可用的工具进行战略性行动来达到特定目标。”代理的关键在于“推理、逻辑和外部信息访问”的结合，使其能够执行超出底层模型固有能力的任务和决策。它们具备“自主操作的能力，独立追求目标并主动决定后续行动，通常无需明确指令。”

3.2 代理的评估
轨迹评估：衡量代理在实现目标过程中的每一步（轨迹）表现，例如“完整性”、“准确性”、“效率”等。
最终响应评估：关注代理是否达到了其目标。可以通过自定义成功标准来衡量，例如零售聊天机器人是否准确回答了产品问题。
自动评分器（Autorater）：一个充当评判者的 LLM，根据用户定义的标准评估生成的响应，模仿人工评估。
3.3 代理架构与模式
ReAct：一种融合了推理和行动的框架，使代理能够动态执行任务。
代理式 RAG（Agentic RAG）：引入自主检索代理，通过迭代推理积极优化搜索。
上下文感知查询扩展：生成多个查询细化。
多步骤推理：将复杂查询分解为逻辑步骤。
自适应源选择：根据上下文动态选择知识源。
重构代理（Rephraser Agent）：专门用于根据用户偏好和上下文调整响应的语气、风格和呈现方式。例如，将汽车手册中的技术信息转换为更具会话性的语言。
3.4 代理中的“护栏”（Guardrails）
护栏用于确保代理行为符合预期和安全。

相关性分类器：通过标记偏离主题的查询来确保代理响应在预期范围内。
安全分类器：检测试图利用系统漏洞的不安全输入（如越狱或提示注入）。
基于规则的保护：包括输入字符限制和黑名单正则表达式，以防止恶意或不当内容。 4. 实际应用与案例：AI 如何赋能各行各业
LLM 和 AI 代理在各种企业和组织中展现出巨大的潜力，从内容创作到数据分析再到客户服务。

4.1 内容与营销
Wild Hearts Idaho：使用 Gemini in Docs 撰写社交媒体文案，推广其项目。
品牌经理：利用 Gemini Advanced 生成创意标志、标语和潜在名称，用于品牌形象开发。
营销：创建电子邮件营销序列，生成广告文案变体，并针对不同受众调整语气和重点。
通信经理：草拟内部沟通消息，如公司内网重新设计通知。
4.2 数据管理与分析
Air Force Research Laboratory：利用 Google Cloud 生态系统加速科学发现和简化操作，包括发现隐藏的小行星。
Jacobsen Salt Co.：使用 Gemini in Sheets 组织不断变化的环境数据。
Kindred Post：利用 Gemini in Sheets 预测旅游季节的库存需求。
Mercado Libre：使用 Vector Search 和 Vertex AI 中的嵌入技术提供精确的购物搜索结果。
Spoon Guru：使用 Vertex AI 处理每天高达 140 亿个数据点，帮助零售商和消费者确定产品是否适合健康、营养或生活方式饮食。
Tchibo：利用 Vertex AI 和 BigQuery 优化需求预测，每天生成超过 600 万个预测。
HR 经理：使用 Gemini in Sheets 计算招聘指标，例如按部门划分的招聘总人数。
运营主管：利用 Gemini in Docs 比较供应商提案，并在 Gmail 中起草谈判邮件。
产品主管：使用 Gemini Advanced 模拟产品发布场景，进行市场研究，并构建高级产品路线图。
4.3 客户服务与内部运营
BBVA：员工创建了 2900 多个自定义 GPT，显著缩短了项目和流程时间。
信贷风险团队：更快更准确地确定信用度。
法律团队：每年回答 4 万个关于政策、合规等问题。
客户服务团队：自动化 NPS 调查的情感分析。
NotCo：开发了由 Gemini 驱动的对话式 AI 聊天机器人，员工可以即时查询 SAP 系统并获取实时洞察。
Persistent Systems：开发了 FinSight 工具，利用 Gemini 模型通过自然语言查询财务文档。
客户服务团队经理：在 Docs 中草拟客户沟通模板（如道歉邮件、订单确认、感谢信），并在 Gmail 中起草会议邮件以讨论客户体验改进。
销售：在 Gmail 中草拟欢迎新联系人的邮件，在 Docs 中根据会议笔记起草跟进邮件。
客户成功经理：在 Docs 中创建客户旅程地图，并生成说服客户采用产品的理由。
业务开发经理：在 Docs 中起草与行业影响者合作的邮件模板。
创业公司创始人：利用 Gemini Advanced 头脑风暴个人品牌建设策略。
4.4 代码生成与开发辅助
LLM 在代码相关任务中表现出色：

代码生成：“编写一个 Bash 代码片段，要求输入文件夹名称。然后获取文件夹内容，并通过在文件名前加上‘draft’来重命名所有文件。”LLM 可以生成带有注释的有效代码。
代码解释：解释给定代码片段的功能，例如 Bash 脚本的每个步骤。
代码翻译：将代码从一种语言翻译到另一种语言，例如将 Bash 脚本翻译成 Python。
代码调试和审查：识别代码中的错误，并提供修复建议以及代码改进建议。例如，纠正 Python 中未定义的 toUpperCase 函数为 upper()方法，并建议添加错误处理。
注意事项：由于 LLM 无法推理并重复训练数据，因此“在运行和测试代码之前阅读和测试代码”至关重要。

5. 多模态提示
   多模态提示是一种“使用多种输入格式来指导大型语言模型”的技术，而不仅仅依赖于文本。这可以包括“文本、图像、音频、代码甚至其他格式的组合”，具体取决于模型的能力和手头的任务。例如，Gemini Advanced 可以根据文本提示生成图像作为创意方案的视觉参考。

6. 总结
   本简报回顾了提示工程的各种技术，从基本的零样本、少样本到系统、角色和上下文提示，再到更复杂的步进提示、思维链、自洽性、思维树和 ReAct。同时，深入探讨了 LLM 输出控制参数如温度、Top-K 和 Top-P 的作用及其相互影响。

此外，简报强调了 AI 代理作为下一代 AI 应用的重要性，它们能够自主感知、推理和行动，并通过 ReAct 和 Agentic RAG 等架构实现更强大的功能。在实际应用层面，我们看到了 LLM 和 AI 代理如何在金融、零售、制造、行政、人力资源、营销、项目管理、销售等多个领域带来变革，通过自动化、优化决策和提升效率，帮助企业和个人解决了实际问题。

最终，无论是单一的 LLM 应用还是复杂的 AI 代理系统，有效的提示工程和对模型行为的精准控制都是实现预期结果的关键。未来的发展将继续探索多模态交互和更智能的代理协作，以解锁更广泛的 AI 能力。
